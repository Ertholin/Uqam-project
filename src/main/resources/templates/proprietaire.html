<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="">
<meta name="author" content="Dashboard">
<meta name="keyword"
	content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
<title>SevisPam management</title>

<!-- Favicons -->
<link th:href="@{/libs/img/favicon.png}" rel="icon">
<link th:href="@{/libs/img/apple-touch-icon.png}" rel="apple-touch-icon">

<!-- Bootstrap core CSS -->
<link th:href="@{/libs/lib/bootstrap/css/bootstrap.min.css}"
	rel="stylesheet">
<!--external css-->
<link th:href="@{/libs/lib/font-awesome/css/font-awesome.css}"
	rel="stylesheet" />
<link rel="stylesheet" type="text/css"
	th:href="@{/libs/css/zabuto_calendar.css}">
<link rel="stylesheet" type="text/css"
	th:href="@{/libs/lib/gritter/css/jquery.gritter.css}" />
<!-- Custom styles -->
<link th:href="@{/libs/css/style.css}" rel="stylesheet">
<link th:href="@{/libs/css/style-responsive.css}" rel="stylesheet">
<script th:src="@{/libs/lib/chart-master/Chart.js}"></script>

<!-- ============================================================================================================= -->
</head>

<body>
	<section id="container">
		<!--header start-->
		<header class="header black-bg">
			<div class="sidebar-toggle-box">
				<div class="fa fa-bars tooltips" data-placement="right"
					data-original-title="Toggle Navigation"></div>
			</div>
			<!--logo start-->
			<a th:href="@{/index}" class="logo"><b><img
					th:src="@{/libs/img/logos.png}"></b></a>
			<!--logo end-->

			<div sec:authorize="isAuthenticated()" class="top-menu">
				<form id="logoutForm" method="POST" th:action="@{/logout}">
					<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
				</form>
				<ul class="nav pull-right top-menu">
					<li>
						<a style="border-color: white;" class="logout" onclick="document.forms['logoutForm'].submit()"><i class="fa fa-sign-out" aria-hidden="true"></i>Deconnecter</a>
					</li>
				</ul>
			</div>
		</header>
		<!--header end-->

		<!--sidebar start-->
		<aside>
			<div id="sidebar" class="nav-collapse ">
				<!-- sidebar menu start-->
				<ul class="sidebar-menu" id="nav-accordion">
					<p class="centered">
						<a th:href="@{/profile.html}"><img
							th:src="@{/libs/img/1.jpg}" class="img-circle" width="80"></a>
					</p>
					
					<h5 class="centered" sec:authentication="name"> User</h5>
					<h6 class="centered" sec:authentication="principal.authorities"> Roles</h6>
					<!-- <h3 th:text="${#authentication.getPrincipal().getNom()}"></h3> -->
					
			<!-- <span sec:authorize="isAuthenticated()">
                | Logged user: <span sec:authentication="name"></span> |
                Roles: <span sec:authentication="principal.authorities"></span> |
                <a th:href="@{/logout}">Sign Out</a>
            </span> -->
					
					<li class="mt"><a class="active"
						th:href="@{/proprietaire}"> <i
							class="glyphicon glyphicon-home"></i> <span>Accueil</span>
					</a></li>
					<li class="sub-menu"><a th:href="@{/infosProprietaires}"> <i
							class="fa fa-user-circle"></i> <span>Infos Personnels</span>
					</a></li>
					<li class="sub-menu">
						<a th:href="@{/mesProprietes}"> <i
								class="fa fa-sitemap"></i> <span>Mes propriétés</span>
						</a>
						<!-- <ul class="sub">
							<li><a th:href="@{/#}">Vendre</a></li>
							<li><a th:href="@{/#}">Loueur</a></li>
							<li><a th:href="@{/#}">Vacances</a></li>
						</ul> -->
					</li>
					<li class="sub-menu"><a th:href="@{/ajouterPropriete}">
							<i class="fa fa-plus-circle"></i> <span>Ajouter propriété</span>
					</a></li>
<!-- 					<li class="sub-menu"><a th:href="@{/javascript}"> <i
							class="fa fa-cogs"></i> <span>Parametres</span>
					</a></li> -->
				</ul>
				<!-- sidebar menu end-->
			</div>
		</aside>
		<!--sidebar end-->
		<!-- ****************MAIN CONTENT******************************************************************************************************* -->
		<section id="main-content">
			<section class="wrapper">
				<div class="row">
					<h2 align="center">Mes Propriétés</h2>
					
			
				<div class="container-fluid table-responsive-sm">
					<table border="1" align="center" class="table table-striped table-hover">
						<thead class="thead-dark">
							<tr>
								<th scope="col">Type</th>
								<th scope="col">Statut</th>
								<th scope="col">Localisation</th>
								<th scope="col">Description</th>
								<th scope="col">Prix</th>
								<th scope="col">Photo</th>
								<th scope="col">Actions</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="propriete : ${proprietes}">
								<td th:utext="${propriete.typePropriete}"></td>
								<td th:utext="${propriete.statut}">...</td>
								<td th:utext="${propriete.localisation}">...</td>
								<td th:utext="${propriete.description}">...</td>
								<td th:utext="${propriete.prix}">...</td>
								<td th:utext="${propriete.photo}"></td>
								<td>
<!-- 									<a type="button" class="btn btn-default btn-space" href="">  
										<i class="fa fa-eye" aria-hidden="true"></i>Voir
									</a> -->
									<a type="button" class="btn btn-primary btn-space" id="editButton" th:href="@{/proprietes/findById/(id=${propriete.id})}">
										<i class="fa fa-pencil" aria-hidden="true"></i>Modifier
									</a>
									<a type="button" class="btn btn-danger btn-space" id="deleteButton" th:href="@{/deleteProp/{id}(id=${propriete.id})}">
										<i class="fa fa-remove" aria-hidden="true"></i>Supprimer
									</a>
								</td>
								
									<!-- <div class="btn-group">
			                    		<a th:href="@{/proprietes/findById/(id=${propriete.id})}" class="btn btn-primary" id="editButton"><i class="icon_pencil-edit"></i></a>
					               		<a class="btn btn-success" id="detailsButton"><i class="icon_document_alt"></i></a>
					               		<a th:href="@{/deleteProp/{id}(id=${propriete.id})}" class="btn btn-danger" id="deleteButton"><i class="icon_close_alt2"></i></a>
	                    			</div> -->
								
							</tr>
						</tbody>
					</table>
				</div>
					<!-- <div>
						<p>
							| <br> | <br> | <br> | <br> | <br> | <br>
							| <br> |
						</p>
						<p>
							| <br> | <br> | <br> | <br> | <br> |
						</p>
					</div> -->

				</div>
				<!-- /row -->
			</section>
		</section>
		<!--main content end-->
		<!--footer start-->
<!-- 		<footer class="site-footer">
			<div class="text-center">
				<p>
					&copy; Copyrights <strong>Sevispam</strong>. Tous droits reserves
				</p>
				<div class="credits">
					Creer par Mind-Soft <a th:href="@{/https://sevispam.com/}">Entreprise</a>
				</div>
				<a th:href="@{/index.html}" class="go-top"> <i
					class="fa fa-angle-up"></i>
				</a>
			</div>
		</footer> -->
		<!--footer end-->
	</section>
	
	<!-- Starting Modals -->
	
<div class="modal fade" id="editModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Modifier Propriété</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form th:action="@{/proprietes/update}" method="put">
          
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Id:</label>
            <input type="text" class="form-control" id="idEdit" name = "id" readonly>
          </div>
          
          <!-- <input type="text" class="form-control" id="typeProprieteEdit" name = "typePropriete"> -->
          
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Type de Propriété:</label>
            	<div>
            		<select class="form-control" id="typeProprieteEdit" name = "typePropriete">
						<option>Maison</option>
						<option>Immeuble</option>
						<option>Chambre d'hotel</option>
						<option>Terrain</option>
						<option>Magasin</option>
						<option>Local commercial / Boutique</option>
						<option>Bureaux / Locaux professionels</option>
					</select>
            	</div>
          </div>
          

          
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Prix:</label>
            <input type="text" class="form-control" id="prixEdit" name = "prix">
          </div>
          
           <div class="form-group">
            <label for="recipient-name" class="col-form-label">Description:</label>
            <input type="text" class="form-control" id="descriptionEdit" name = "description">
          </div>
          
          <div class="form-group">
           	<label class="col-form-label">Statut</label>
				<div>
					<select class="form-control" id="statutEdit" name = "statut">
						<option>à vendre</option>
						<option>à louer</option>
						<option>pour Vacances</option>
					</select>
				</div>
          </div>
          
          <div class="form-group">
            <label for="recipient-name" class="col-form-label">Localisation:</label>
            <input type="text" class="form-control" id="localisationEdit" name = "localisation">
          </div>
          
          <div class="form-group">
			<label for="flpImageEdit" class="col-form-label">Photo</label>
			<div>
				<input type="file" class="form-control choose-file" id="photoEdit" name="photo">
			</div>
		  </div>
          
          <div class="form-group">
            <input type="hidden" class="form-control" id="proprietaireIdEdit" name = "proprietaire">
          </div>
          <div class="form-group">
            <input type="hidden" class="form-control" id="dateEdit" name = "date">
          </div>
          
          <div class="form-group">
        	<button type="submit" class="btn btn-primary">Submit</button>
          </div>
          
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
  
  
  <div class="modal" id="deleteModal" tabindex="-1" role="dialog">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Confirm Delete</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <p>Voulez-vous vraiment supprimer cet enregistrement ?</p>
      </div>
      <div class="modal-footer">
        <a class="btn btn-primary" id = "confirmDeleteButton" href="">Oui, Confirmer</a>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Annuler</button>
      </div>
    </div>
  </div>
</div>	
	
	<!-- js placed at the end of the document so the pages load faster -->
	<script th:src="@{/libs/lib/jquery/jquery.min.js}"></script>

	<script th:src="@{/libs/lib/bootstrap/js/bootstrap.min.js}"></script>
	<script class="include" type="text/javascript"
		th:src="@{/lib/jquery.dcjqaccordion.2.7.js}"></script>
	<script th:src="@{/libs/lib/jquery.scrollTo.min.js}"></script>
	<script th:src="@{/libs/lib/jquery.nicescroll.js}"
		type="text/javascript"></script>
	<script th:src="@{/libs/lib/jquery.sparkline.js}"></script>
	<!--common script for all pages-->
	<script th:src="@{/libs/lib/common-scripts.js}"></script>
	<script type="text/javascript"
		th:src="@{/libs/lib/gritter/js/jquery.gritter.js}"></script>
	<script type="text/javascript" th:src="@{/libs/lib/gritter-conf.js}"></script>
	<!--script for this page-->
	<script th:src="@{/libs/lib/sparkline-chart.js}"></script>
	<script th:src="@{/libs/lib/zabuto_calendar.js}"></script>
	<script src="js/propriete.js"></script>
	<script type="text/javascript">
		$(document)
				.ready(
						function() {
							var unique_id = $.gritter
									.add({
										// (string | mandatory) the heading of the notification
										title : 'Bienvenue!',
										// (string | mandatory) the text inside the notification
										text : 'Nous vous remercions de choisir Sevis Pam comme plateforme numerique pour votre business. Placer le curseur sur le message pour pouvoir annuler',
										// (string | optional) the image to display on the left
										image : '../libs/img/1.jpg',
										// (bool | optional) if you want it to fade out on its own or just sit there
										sticky : false,
										// (int | optional) the time you want it to be alive for before fading out
										time : 8000,
										// (string | optional) the class name you want to apply to that specific message
										class_name : 'my-sticky-class'
									});

							return false;
						});
	</script>
	<script type="application/javascript">
		
    $(document).ready(function() {
      $("#date-popover").popover({
        html: true,
        trigger: "manual"
      });
      $("#date-popover").hide();
      $("#date-popover").click(function(e) {
        $(this).hide();
      });

      $("#my-calendar").zabuto_calendar({
        action: function() {
          return myDateFunction(this.id, false);
        },
        action_nav: function() {
          return myNavFunction(this.id);
        },
        ajax: {
          url: "show_data.php?action=1",
          modal: true
        },
        legend: [{
            type: "text",
            label: "Special event",
            badge: "00"
          },
          {
            type: "block",
            label: "Regular event",
          }
        ]
      });
    });

    function myNavFunction(id) {
      $("#date-popover").hide();
      var nav = $("#" + id).data("navigation");
      var to = $("#" + id).data("to");
      console.log('nav ' + nav + ' to: ' + to.month + '/' + to.year);
    }
  
	</script>
</body>

</html>
